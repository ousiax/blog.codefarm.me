<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bing WebMaster -->
  <meta name="msvalidate.01" content="AB2FFF876C37F59D9121882CC8395DE5" />

  <title>Dimensions and Embedding Models</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://blog.codefarm.me/2024/06/19/dimensions-embedding-models/">
  <link rel="alternate" type="application/rss+xml" title="CODE FARM" href="https://blog.codefarm.me/feed.xml">

  <!--<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" />-->

  <!-- https://cdn.jsdelivr.net/gh/lurongkai/anti-baidu/js/anti-baidu-latest.min.js -->
<script type="text/javascript" src="/js/anti-baidu.min.js" charset="UTF-8"></script>

  
<!-- Google Analytics Website tracking -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-83971182-1', 'auto');
  ga('send', 'pageview');

</script>


  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SN88FJ18E5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SN88FJ18E5');
</script>



</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <h2 class="site-title">
      <a class="site-title" href="/">CODE FARM</a>
    </h2>

     <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
        <div class="trigger">
            <ul>
                <li><a href="/">home</a>
                <li><a href="/category">category</a>
                <li><a href="/tag">tag</a>
                <li><a href="/archive">archive</a>
                <li><a href="/about">about</a>
                <li><a href="https://resume.github.io/?ousiax" target="_blank">R&eacute;sum&eacute;</a>
            </ul>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Dimensions and Embedding Models</h1>
    
    
    <p class="post-meta"><time datetime="2024-06-19T17:15:55+08:00" itemprop="datePublished">Jun 19, 2024</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#dimensions-embedding-models">1. Dimensions &amp; Embedding Models</a>
<ul class="sectlevel2">
<li><a href="#dimensionality-mapping-the-essence-of-data">1.1. Dimensionality: Mapping the Essence of Data</a></li>
<li><a href="#embedding-models-bridging-the-gap-between-data-and-meaning">1.2. Embedding Models: Bridging the Gap Between Data and Meaning</a></li>
</ul>
</li>
<li><a href="#dimensionality-in-milvus">2. Dimensionality in Milvus</a>
<ul class="sectlevel2">
<li><a href="#collections-in-milvus">2.1. Collections in Milvus:</a></li>
<li><a href="#vector-embeddings">2.2. Vector Embeddings:</a></li>
<li><a href="#efficient-retrieval">2.3. Efficient Retrieval:</a></li>
</ul>
</li>
<li><a href="#building-a-text-based-kb-system-with-milvus">3. Building a Text-based KB System with Milvus</a>
<ul class="sectlevel2">
<li><a href="#understanding-textual-data">3.1. Understanding Textual Data:</a></li>
<li><a href="#dimensionality-and-milvus-collections">3.2. Dimensionality and Milvus Collections:</a></li>
<li><a href="#selecting-the-right-embedding-model-for-your-kb-system">3.3. Selecting the Right Embedding Model for your KB System:</a></li>
<li><a href="#experimentation-is-key">3.4. Experimentation is Key:</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This post is generated by Google Gemini
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dimensions-embedding-models">1. Dimensions &amp; Embedding Models</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the realm of machine learning, particularly when dealing with complex data like text, two concepts play a crucial role in capturing meaning and enabling efficient information retrieval: <strong>dimensionality</strong> and <strong>embedding models</strong>.</p>
</div>
<div class="sect2">
<h3 id="dimensionality-mapping-the-essence-of-data">1.1. Dimensionality: Mapping the Essence of Data</h3>
<div class="paragraph">
<p>Imagine a vast space with multiple axes. Each axis represents a specific feature used to describe something. In machine learning, this space is often used to represent data points. <strong>Dimensionality</strong> refers to the number of axes (features) used in this space.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Right Fit: There&#8217;s no one-size-fits-all approach to dimensionality. The optimal number of features depends on the type of data and the task at hand. For example, representing an image might require hundreds or thousands of dimensions (pixels), while a simple classification task might only need a few.</p>
</li>
<li>
<p>Balancing Complexity and Efficiency: Higher dimensionality can potentially capture more nuanced details about the data. However, it also comes with downsides:</p>
</li>
<li>
<p>Increased Complexity: More features can make algorithms more complex and computationally expensive to train.</p>
</li>
<li>
<p>Curse of Dimensionality: As dimensionality increases, the amount of data needed to effectively learn relationships between features grows exponentially. This can lead to poor performance with limited data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The goal is to find the <strong>sweet spot</strong> â€“ a dimensionality that captures the essential information for your task without introducing unnecessary complexity. Experimenting with different dimensions and evaluating the performance of your model is key to finding this balance.</p>
</div>
</div>
<div class="sect2">
<h3 id="embedding-models-bridging-the-gap-between-data-and-meaning">1.2. Embedding Models: Bridging the Gap Between Data and Meaning</h3>
<div class="paragraph">
<p>Raw data, like text or images, can be difficult for machines to understand directly. Embedding models act as a bridge, transforming this data into a more meaningful representation suitable for machine learning algorithms. They do this by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Analyzing the Data: The model analyzes the data, identifying patterns and relationships within it. For example, a text embedding model might analyze word co-occurrence to understand semantic relationships between words.</p>
</li>
<li>
<p>Generating Embeddings: Based on the analysis, the model generates numerical vectors (embeddings) that represent the data. These vectors capture the essence of the data in a way that the machine learning model can understand and use effectively.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Benefits of Embedding Models</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Efficiency: Embeddings are often lower dimensional than the original data, making them more efficient for storage and processing by machine learning algorithms.</p>
</li>
<li>
<p>Capturing Relationships: Well-designed embedding models can capture complex relationships within the data, leading to better performance in various tasks like similarity search and classification.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Choosing the Right Embedding Model:</strong></p>
</div>
<div class="paragraph">
<p>The best embedding model depends on the specific type of data and the task at hand. Different models excel at handling different data types (text, images, etc.) and capturing different aspects of the data.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dimensionality-in-milvus">2. Dimensionality in Milvus</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While Milvus itself doesn&#8217;t directly deal with "dimensionality" in the same way as traditional machine learning models, it plays a crucial role in how embedding models and vector data are stored and retrieved.</p>
</div>
<div class="paragraph">
<p>In essence, Milvus provides a storage and retrieval framework for vector data generated by embedding models. By carefully considering dimensionality and choosing the right embedding model, you can optimize your Milvus system for efficient storage, retrieval, and accurate search results based on the semantic meaning of your data.</p>
</div>
<div class="sect2">
<h3 id="collections-in-milvus">2.1. Collections in Milvus:</h3>
<div class="ulist">
<ul>
<li>
<p>Collections Define Dimension: When you create a collection in Milvus, you specify its dimensionality, which refers to the size of the vector embeddings that will be stored in that collection. This essentially defines the number of features used to represent your data points.</p>
</li>
<li>
<p>Fixed Dimension for a Collection: Unlike traditional models where dimensionality can be dynamic, each collection in Milvus has a fixed dimensionality. All vectors stored within a collection must have the same size (number of elements).</p>
</li>
<li>
<p>Choosing the Right Dimension: The optimal dimension for your Milvus collection depends on the chosen embedding model and your specific data. Experimenting with different dimensions within the recommended range for your embedding model is crucial to find the balance between capturing sufficient information and storage efficiency.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="vector-embeddings">2.2. Vector Embeddings:</h3>
<div class="ulist">
<ul>
<li>
<p>Pre-trained or Train Your Own: You can utilize pre-trained embedding models (e.g., Word2Vec) or train your own model to generate vector embeddings for your data. These embeddings capture the semantic meaning of your data points (text, images, etc.) in a numerical format.</p>
</li>
<li>
<p>Dimensionality Match with Collection: The dimension (size) of the generated vector embeddings must match the dimensionality of the Milvus collection where you plan to store them. This ensures compatibility and efficient storage within Milvus.</p>
</li>
<li>
<p>Dimensionality Mismatch (Optional): If using a pre-trained model with a different dimension than your collection, you might need to adapt:</p>
<div class="ulist">
<ul>
<li>
<p>Dimensionality Reduction: Techniques like PCA can be used to project higher dimensional vectors into a lower dimension that aligns with your collection&#8217;s dimensionality.</p>
</li>
<li>
<p>Partial Vector Usage: You can utilize only a specific portion (e.g., the first 300 dimensions) of a higher dimensional vector if it aligns with your collection size.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="efficient-retrieval">2.3. Efficient Retrieval:</h3>
<div class="ulist">
<ul>
<li>
<p>Similarity Search at Its Core: Milvus excels at performing similarity search on vector data stored within collections. It compares query vectors (representing search terms) with stored vectors based on their distance in the multi-dimensional space.</p>
</li>
<li>
<p>Dimensionality Impacts Search Performance: While the exact impact can vary depending on the data and search algorithm, lower dimensionality can potentially lead to faster search times in Milvus. This is because there are fewer features to compare during the similarity calculation.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-a-text-based-kb-system-with-milvus">3. Building a Text-based KB System with Milvus</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Milvus offers a powerful platform for building text-based knowledge base (KB) systems.</p>
</div>
<div class="sect2">
<h3 id="understanding-textual-data">3.1. Understanding Textual Data:</h3>
<div class="ulist">
<ul>
<li>
<p>Transforming Text into Meaningful Vectors: Raw text data isn&#8217;t directly usable by Milvus. We need a way to capture the semantic meaning of words and documents. This is where embedding models come in.</p>
</li>
<li>
<p>Embedding Models Bridge the Gap: These models analyze your text data, identifying relationships between words and documents. They then generate numerical vectors (embeddings) that represent this semantic meaning in a multi-dimensional space.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="dimensionality-and-milvus-collections">3.2. Dimensionality and Milvus Collections:</h3>
<div class="ulist">
<ul>
<li>
<p>Defining the Vector Space: When creating a collection in Milvus for your KB system, you specify its dimensionality. This represents the number of elements (features) in your vector embeddings. It essentially defines the size of the multi-dimensional space where meaning is represented.</p>
</li>
<li>
<p>Choosing the Right Dimension: There&#8217;s no one-size-fits-all answer. The optimal dimension depends on the chosen embedding model and your specific dataset. Common text embedding models typically work well within a range of 50 to 1024 dimensions.</p>
</li>
<li>
<p>Balancing Accuracy and Efficiency: Higher dimensionality can potentially capture more nuanced semantic information, leading to better retrieval accuracy (finding relevant documents in your KB). However, it also comes with trade-offs:</p>
<div class="ulist">
<ul>
<li>
<p>Storage Requirements: Higher dimensional vectors require more storage space within Milvus.</p>
</li>
<li>
<p>Search Performance: Milvus performs similarity searches to retrieve documents. Higher dimensional vectors might lead to slightly slower search times.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="selecting-the-right-embedding-model-for-your-kb-system">3.3. Selecting the Right Embedding Model for your KB System:</h3>
<div class="ulist">
<ul>
<li>
<p>Multiple Options: Consider Word2Vec, the default model from Milvus (e.g., paraphrase-albert-small-v2), or explore other pre-trained models.</p>
</li>
<li>
<p>Word2Vec: A Reliable Choice: This well-established model excels at capturing word-level semantics. Many pre-trained Word2Vec models are available, often with 300 dimensions (ideal for your collection). However, it might not capture complex relationships within longer text passages as effectively.</p>
</li>
<li>
<p>Default Milvus Model: Potential for Richer Relationships: Milvus&#8217;s default model might capture more complex relationships compared to Word2Vec. The advantage? It&#8217;s pre-trained, eliminating the need for training on your data. However, it might have a higher dimension (e.g., 768) requiring handling for your collection:</p>
<div class="ulist">
<ul>
<li>
<p>Dimensionality Reduction: Techniques like PCA can project these higher dimensional vectors into a lower dimension compatible with your collection.</p>
</li>
<li>
<p>Partial Vector Usage: You can utilize only the first 300 dimensions of the generated vectors if it aligns with your collection size.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="experimentation-is-key">3.4. Experimentation is Key:</h3>
<div class="paragraph">
<p>The best approach depends on your specific needs. Try both Word2Vec (potentially pre-trained) and the default model on your KB system&#8217;s data. Evaluate the retrieval performance (Recall@K) to see which one delivers the most accurate results in finding relevant documents based on your queries.</p>
</div>
<div class="paragraph">
<p><strong>Here are some additional tips:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Focus on Accuracy with an Eye on Efficiency: Prioritize retrieval accuracy, but consider the impact of dimensionality on storage and search performance. Find a balance that works for your KB system&#8217;s needs.</p>
</li>
<li>
<p>Consider Training Your Own Word2Vec (Optional): If pre-trained models don&#8217;t offer the desired performance or your KB system deals with a specific domain vocabulary, consider training your own Word2Vec model. This requires data pre-processing and setting training parameters, but can offer the most optimized performance.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
    
<style>
  .utterances {
      max-width: 100%;
  }
</style>
<script src="https://utteranc.es/client.js"
        repo="ousiax/utterances"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>


  </div>

  <ul class="post-navigation">
    <li>
      
      <a href="/2024/06/18/rag-boosting-llms-with-contextual-retrieval/">&laquo; RAG: Boosting LLMs with Contextual Retrieval</a>
      
    </li>
    <li>
      
      <a href="/2024/08/29/git-bash-cygwin-in-windows-terminal/">Git Bash and Cygwin in Windows Terminal &raquo;</a>
      
    </li>
  </ul>
</article>

      </div>
    </div>

    <footer class="site-footer">
  <div class="license">
    <span>Article licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></span>
  </div>
  
  <details open>
    <summary>Extral Links</summary>
    <div>
      
      <a href="https://jekyllrb.com/">Jekyll</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://shopify.github.io/">Liquid</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://docs.asciidoctor.org/">Asciidoctor</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://github.com/qqbuby/">GitHub</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="/feed.xml">RSS</a>
      
      
    </div>
  </details>
  
</footer>


<!-- https://github.com/bryanbraun/anchorjs -->
<script src="/js/anchor.min.js"></script>
<script>
  anchors.add();
  anchors.remove(".site-title");
</script>




  </body>

</html>
